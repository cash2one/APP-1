
<!DOCTYPE html>
<html>
	<head lang="en">
		<meta charset="UTF-8">
		<!-- 优先使用 IE 最新版本和 Chrome -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<!-- 为移动设备添加 viewport -->
		<meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
		<!-- 添加到主屏后的标题（iOS 6 新增） -->
		<meta name="apple-mobile-web-app-title" content="">
		<!-- 是否启用 WebApp 全屏模式，删除苹果默认的工具栏和菜单栏 -->
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<!-- 设置苹果工具栏颜色 -->
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<!-- 添加智能 App 广告条 Smart App Banner（iOS 6+ Safari） -->
		<meta name="apple-itunes-app" content="app-id=myAppStoreID, affiliate-data=myAffiliateData, app-argument=myURL">
		<!-- 忽略页面中的数字识别为电话，忽略email识别 -->
		<meta name="format-detection" content="telphone=no, email=no" />
		<!--下面三个是清除缓存 微信浏览器缓存严重又无刷新；这个方法调试的时候很方便-->
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Cache-Control" content="no-cache">
		<meta http-equiv="Expires" content="0">
		<title>体验福利</title>
		<link href="css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="css/m_common.css" />
		<link rel="stylesheet" type="text/css" href="css/m_task.css" />
	</head>

	<body>
		<div class="mui-content">
			<!--选项卡部分-->
			<!--<nav class="mui-bar">
				<a id="defaultTab" class="mui-tab-item mui-active" href="m_task_junior.html">
					<span class="mui-tab-label">免费</span>
				</a>
				<a class="mui-tab-item" href="m_task_middle.html">
					<span>进阶体验</span>
				</a>
				<a class="mui-tab-item" href="m_task_senior.html">
					<span>高手专区</span>
				</a>
			</nav>-->
			<div class="mui-slider-indicator mui-segmented-control mui-segmented-control-inverted">
					<a class="mui-control-item" href="m_task_junior.html">新手入门</a>
					<a class="mui-control-item" href="m_task_middle.html">进阶体验</a>
					<a class="mui-control-item" href="m_task_senior.html">高手专区</a>
			</div>
		</div>
		<script type="text/javascript" charset="UTF-8" src="js/mui.min.js"></script>
		<script>
			mui.init();
			var subpages = ['m_task_junior.html','m_task_middle.html','m_task_senior.html'];
			var subpage_style = {
				top: '45px',
				bottom: '0px',
				hardwareAccelerated:true
			};
		
			var aniShow = {};
		
			//创建子页面，首个选项卡页面显示，其它均隐藏；
			mui.plusReady(function() {
				setTimeout(function(){
					preload();
				},200);
			});
			function preload(){
				var self = plus.webview.currentWebview();
				for(var i = 0; i < 3; i++) {
					var temp = {};
					var sub = plus.webview.create(subpages[i], subpages[i], subpage_style);
					if(i > 0) {
						sub.hide();
					} else {
						temp[subpages[i]] = "true";
						mui.extend(aniShow, temp);
					}
					self.append(sub);
				}
			}
			//当前激活选项
			var activeTab = subpages[0];
			var title = document.getElementById("title");
			//选项卡点击事件
			mui('.mui-slider-indicator').on('tap', 'a', function(e) {
				var targetTab = this.getAttribute('href');
				if(targetTab == activeTab) {
					return;
				}
				//更换标题
	//			title.innerHTML = this.querySelector('.mui-tab-label').innerHTML;
				//显示目标选项卡
				//若为iOS平台或非首次显示，则直接显示
				if(mui.os.ios || aniShow[targetTab]) {
					plus.webview.show(targetTab);
				} else {
					//否则，使用fade-in动画，且保存变量
					var temp = {};
					temp[targetTab] = "true";
					mui.extend(aniShow, temp);
					plus.webview.show(targetTab, "fade-in", 300);
				}
				//隐藏当前;
				plus.webview.hide(activeTab);
				//更改当前活跃的选项卡
				activeTab = targetTab;
			});
		</script>
	</body>

</html>
